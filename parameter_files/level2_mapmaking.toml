[Master] 

log_file = 'logs/{}_main_run.log'

sql_database = 'databases/COMAP_manchester.db'

min_obsid = 7000#45200#
max_obsid = 101430#30000#
#obsid_list = '/scratch/nas_cbassarc/sharper/work/COMAP/COMAP_Reduce_2024/notebooks/fg4_files.txt' #[45204, 45144, 45143, 45202, 45151]
#source = 'fg4' #'TauA'
#source_group = 'Foreground' #'Calibrator' # "Galactic"

pipeline_full = [
            #### GALACTIC PLANE ####
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=0, wcs_def="Galactic", source=["fg6","Field"], map_name="comap_galactic_120525_band00", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db", file_list_name="galactic_files.txt")',
            'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=0, wcs_def="Galactic", source=["fg6","Field","FG12","fg12"], map_name="comap_galactic_120525_band00", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=1, wcs_def="Galactic", source=["fg6","Field"], map_name="comap_galactic_120525_band01", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=1, wcs_def="Galactic", source=["fg6","Field"], map_name="comap_galactic_120525_band01", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=2, wcs_def="Galactic", source=["fg6","Field"], map_name="comap_galactic_120525_band02", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=2, wcs_def="Galactic", source=["fg6","Field"], map_name="comap_galactic_120525_band02", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=3, wcs_def="Galactic", source=["fg6","Field"], map_name="comap_galactic_120525_band03", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=3, wcs_def="Galactic", source=["fg6","Field"], map_name="comap_galactic_120525_band03", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=4, wcs_def="Galactic", source=["fg6","Field"], map_name="comap_galactic_120525_band04", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=4, wcs_def="Galactic", source=["fg6","Field"], map_name="comap_galactic_120525_band04", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=5, wcs_def="Galactic", source=["fg6","Field"], map_name="comap_galactic_120525_band05", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=5, wcs_def="Galactic", source=["fg6","Field"], map_name="comap_galactic_120525_band05", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=6, wcs_def="Galactic", source=["fg6","Field"], map_name="comap_galactic_120525_band06", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=6, wcs_def="Galactic", source=["fg6","Field"], map_name="comap_galactic_120525_band06", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=7, wcs_def="Galactic", source=["fg6","Field"], map_name="comap_galactic_120525_band07", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=7, wcs_def="Galactic", source=["fg6","Field"], map_name="comap_galactic_120525_band07", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #### LDN1111 ####
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=0, wcs_def="LDN1111", source="FG12", source_group="Galactic", map_name="comap_fg12_120525_band00", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db", file_list_name="fg12_files.txt")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=0, wcs_def="LDN1111", source="FG12", source_group="Galactic", map_name="comap_fg12_120525_band00", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=1, wcs_def="LDN1111", source="FG12", source_group="Galactic", map_name="comap_fg12_120525_band01", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=1, wcs_def="LDN1111", source="FG12", source_group="Galactic", map_name="comap_fg12_120525_band01", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=2, wcs_def="LDN1111", source="FG12", source_group="Galactic", map_name="comap_fg12_120525_band02", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=2, wcs_def="LDN1111", source="FG12", source_group="Galactic", map_name="comap_fg12_120525_band02", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=3, wcs_def="LDN1111", source="FG12", source_group="Galactic", map_name="comap_fg12_120525_band03", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=3, wcs_def="LDN1111", source="FG12", source_group="Galactic", map_name="comap_fg12_120525_band03", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=4, wcs_def="LDN1111", source="FG12", source_group="Galactic", map_name="comap_fg12_120525_band04", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=4, wcs_def="LDN1111", source="FG12", source_group="Galactic", map_name="comap_fg12_120525_band04", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=5, wcs_def="LDN1111", source="FG12", source_group="Galactic", map_name="comap_fg12_120525_band05", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=5, wcs_def="LDN1111", source="FG12", source_group="Galactic", map_name="comap_fg12_120525_band05", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=6, wcs_def="LDN1111", source="FG12", source_group="Galactic", map_name="comap_fg12_120525_band06", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=6, wcs_def="LDN1111", source="FG12", source_group="Galactic", map_name="comap_fg12_120525_band06", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=7, wcs_def="LDN1111", source="FG12", source_group="Galactic", map_name="comap_fg12_120525_band07", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=7, wcs_def="LDN1111", source="FG12", source_group="Galactic", map_name="comap_fg12_120525_band07", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #### CALIFORNIA ####
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=0, wcs_def="California", source="fg11", source_group="Foreground", map_name="comap_fg11_120525_band00", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db", file_list_name="fg11_files.txt")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=0, wcs_def="California", source="fg11", source_group="Foreground", map_name="comap_fg11_120525_band00", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=1, wcs_def="California", source="fg11", source_group="Foreground", map_name="comap_fg11_120525_band01", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=1, wcs_def="California", source="fg11", source_group="Foreground", map_name="comap_fg11_120525_band01", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=2, wcs_def="California", source="fg11", source_group="Foreground", map_name="comap_fg11_120525_band02", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=2, wcs_def="California", source="fg11", source_group="Foreground", map_name="comap_fg11_120525_band02", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=3, wcs_def="California", source="fg11", source_group="Foreground", map_name="comap_fg11_120525_band03", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=3, wcs_def="California", source="fg11", source_group="Foreground", map_name="comap_fg11_120525_band03", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=4, wcs_def="California", source="fg11", source_group="Foreground", map_name="comap_fg11_120525_band04", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=4, wcs_def="California", source="fg11", source_group="Foreground", map_name="comap_fg11_120525_band04", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=5, wcs_def="California", source="fg11", source_group="Foreground", map_name="comap_fg11_120525_band05", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=5, wcs_def="California", source="fg11", source_group="Foreground", map_name="comap_fg11_120525_band05", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=6, wcs_def="California", source="fg11", source_group="Foreground", map_name="comap_fg11_120525_band06", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=6, wcs_def="California", source="fg11", source_group="Foreground", map_name="comap_fg11_120525_band06", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=7, wcs_def="California", source="fg11", source_group="Foreground", map_name="comap_fg11_120525_band07", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=7, wcs_def="California", source="fg11", source_group="Foreground", map_name="comap_fg11_120525_band07", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #### M31 ####
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=0, wcs_def="M31", source="fg4", source_group="Foreground", map_name="comap_fg4_120525_band00", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db", file_list_name="fg4_files.txt")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=0, wcs_def="M31", source="fg4", source_group="Foreground", map_name="comap_fg4_120525_band00", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=1, wcs_def="M31", source="fg4", source_group="Foreground", map_name="comap_fg4_120525_band01", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=1, wcs_def="M31", source="fg4", source_group="Foreground", map_name="comap_fg4_120525_band01", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=2, wcs_def="M31", source="fg4", source_group="Foreground", map_name="comap_fg4_120525_band02", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=2, wcs_def="M31", source="fg4", source_group="Foreground", map_name="comap_fg4_120525_band02", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=3, wcs_def="M31", source="fg4", source_group="Foreground", map_name="comap_fg4_120525_band03", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=3, wcs_def="M31", source="fg4", source_group="Foreground", map_name="comap_fg4_120525_band03", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=4, wcs_def="M31", source="fg4", source_group="Foreground", map_name="comap_fg4_120525_band04", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=4, wcs_def="M31", source="fg4", source_group="Foreground", map_name="comap_fg4_120525_band04", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=5, wcs_def="M31", source="fg4", source_group="Foreground", map_name="comap_fg4_120525_band05", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=5, wcs_def="M31", source="fg4", source_group="Foreground", map_name="comap_fg4_120525_band05", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=6, wcs_def="M31", source="fg4", source_group="Foreground", map_name="comap_fg4_120525_band06", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=6, wcs_def="M31", source="fg4", source_group="Foreground", map_name="comap_fg4_120525_band06", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=7, wcs_def="M31", source="fg4", source_group="Foreground", map_name="comap_fg4_120525_band07", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=7, wcs_def="M31", source="fg4", source_group="Foreground", map_name="comap_fg4_120525_band07", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #### PERSEUS ####
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=0, wcs_def="Perseus", source="fg7", source_group="Foreground", map_name="comap_fg7_120525_band00", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db", file_list_name="fg7_files.txt")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=0, wcs_def="Perseus", source="fg7", source_group="Foreground", map_name="comap_fg7_120525_band00", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=1, wcs_def="Perseus", source="fg7", source_group="Foreground", map_name="comap_fg7_120525_band01", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=1, wcs_def="Perseus", source="fg7", source_group="Foreground", map_name="comap_fg7_120525_band01", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=2, wcs_def="Perseus", source="fg7", source_group="Foreground", map_name="comap_fg7_120525_band02", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=2, wcs_def="Perseus", source="fg7", source_group="Foreground", map_name="comap_fg7_120525_band02", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=3, wcs_def="Perseus", source="fg7", source_group="Foreground", map_name="comap_fg7_120525_band03", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=3, wcs_def="Perseus", source="fg7", source_group="Foreground", map_name="comap_fg7_120525_band03", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=4, wcs_def="Perseus", source="fg7", source_group="Foreground", map_name="comap_fg7_120525_band04", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=4, wcs_def="Perseus", source="fg7", source_group="Foreground", map_name="comap_fg7_120525_band04", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=5, wcs_def="Perseus", source="fg7", source_group="Foreground", map_name="comap_fg7_120525_band05", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=5, wcs_def="Perseus", source="fg7", source_group="Foreground", map_name="comap_fg7_120525_band05", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=6, wcs_def="Perseus", source="fg7", source_group="Foreground", map_name="comap_fg7_120525_band06", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=6, wcs_def="Perseus", source="fg7", source_group="Foreground", map_name="comap_fg7_120525_band06", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=7, wcs_def="Perseus", source="fg7", source_group="Foreground", map_name="comap_fg7_120525_band07", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=7, wcs_def="Perseus", source="fg7", source_group="Foreground", map_name="comap_fg7_120525_band07", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
        ] 

old_pipeline = [
            #'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=1, wcs_def="M31", source="fg4", source_group="Foreground", map_name="comap_fg4_120525_band01", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            # 'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=2, wcs_def="M31", source="fg4", source_group="Foreground", map_name="comap_fg4_120525_band02", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            # 'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=3, wcs_def="M31", source="fg4", source_group="Foreground", map_name="comap_fg4_120525_band03", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            # 'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=4, wcs_def="M31", source="fg4", source_group="Foreground", map_name="comap_fg4_120525_band04", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            # 'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=5, wcs_def="M31", source="fg4", source_group="Foreground", map_name="comap_fg4_120525_band05", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            # 'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=6, wcs_def="M31", source="fg4", source_group="Foreground", map_name="comap_fg4_120525_band06", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            # 'modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed(band=7, wcs_def="M31", source="fg4", source_group="Foreground", map_name="comap_fg4_120525_band07", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=0, wcs_def="M31", source="fg4", source_group="Foreground", map_name="comap_fg4_100625_src0P4_07000-50000_band00", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db", sigma_red_cutoff=0.4, min_obsid=7000, max_obsid=15000)',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=0, wcs_def="M31", source="fg4", source_group="Foreground", map_name="comap_fg4_100625_src0P4_15000-50000_band00", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db", sigma_red_cutoff=0.4, min_obsid=15000, max_obsid=50000)',
#            'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=0, wcs_def="California", source="fg11", source_group="Foreground", map_name="comap_fg11_020625_band00", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
#            'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=0, wcs_def="Perseus", source="fg7", source_group="Foreground", map_name="comap_fg7_020625_band00", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
#            'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=0, wcs_def="LDN1111", source="FG12", source_group="Foreground", map_name="comap_fg12_120525_band00", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
#             'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=0, wcs_def="Galactic", source=["fg6","fg12","Field"], map_name="comap_partial_fg12_260825_band00", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db", min_obsid=35000)',
            # 'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=2, wcs_def="Galactic", source=["fg6","Field"], map_name="comap_160625_band02", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db", min_obsid=7000)',
            # 'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=3, wcs_def="Galactic", source=["fg6","Field"], map_name="comap_160625_band03", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db", min_obsid=7000)',
            # 'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=4, wcs_def="Galactic", source=["fg6","Field"], map_name="comap_160625_band04", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db", min_obsid=7000)',
            # 'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=5, wcs_def="Galactic", source=["fg6","Field"], map_name="comap_160625_band05", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db", min_obsid=7000)',
            # 'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=6, wcs_def="Galactic", source=["fg6","Field"], map_name="comap_160625_band06", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db", min_obsid=7000)',
            # 'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=7, wcs_def="Galactic", source=["fg6","Field"], map_name="comap_160625_band07", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db", min_obsid=7000)',
            # 'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=0, wcs_def="Galactic", source=["fg6"], map_name="comap_band00_jonas_paper_with_filter", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db", min_obsid=7000)',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=0, wcs_def="Galactic", source=["Field015.26+00.0","Field016.06+00.0","Field016.86+00.0","Field017.66+00.0","Field018.46+00.0","Field019.26+00.0","Field020.06+00.0"], map_name="comap_galactic_281025", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db", n_processes=4)',
            'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=0, wcs_def="Galactic", source=["fg12"], map_name="comap_fg12all_281025", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db", n_processes=4)',
            #'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=0, wcs_def="TauA", source_group="Calibrator", source=["TauA"], map_name="comap_taua_120525_band00", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
]

pipeline_a = [
            'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(n_processes=4, band=0, wcs_def="Galactic", source=["fg6","Field","fg12"], map_name="comap_281025", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db", min_obsid=7000)',
            'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(n_processes=4, band=1, wcs_def="Galactic", source=["fg6","Field","fg12"], map_name="comap_281025", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db", min_obsid=7000)',
            'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(n_processes=4, band=2, wcs_def="Galactic", source=["fg6","Field","fg12"], map_name="comap_281025", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db", min_obsid=7000)',
            'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(n_processes=4, band=3, wcs_def="Galactic", source=["fg6","Field","fg12"], map_name="comap_281025", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db", min_obsid=7000)',
            'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(n_processes=4, band=4, wcs_def="Galactic", source=["fg6","Field","fg12"], map_name="comap_281025", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db", min_obsid=7000)',
            'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(n_processes=4, band=5, wcs_def="Galactic", source=["fg6","Field","fg12"], map_name="comap_281025", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db", min_obsid=7000)',
            'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(n_processes=4, band=6, wcs_def="Galactic", source=["fg6","Field","fg12"], map_name="comap_281025", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db", min_obsid=7000)',
            'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(n_processes=4, band=7, wcs_def="Galactic", source=["fg6","Field","fg12"], map_name="comap_281025", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db", min_obsid=7000)',
]

pipeline_fullz = [
            'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(n_processes=4, band=0, wcs_def="Galactic", source=["fg6","Field","fg12"], map_name="comap_alr-2_galactic_301025", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db", min_obsid=7000)',
            'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(n_processes=4, band=1, wcs_def="Galactic", source=["fg6","Field","fg12"], map_name="comap_alr-2_galactic_301025", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db", min_obsid=7000)',
            'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(n_processes=4, band=2, wcs_def="Galactic", source=["fg6","Field","fg12"], map_name="comap_alr-2_galactic_301025", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db", min_obsid=7000)',
            'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(n_processes=4, band=3, wcs_def="Galactic", source=["fg6","Field","fg12"], map_name="comap_alr-2_galactic_301025", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db", min_obsid=7000)',
            'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(n_processes=4, band=4, wcs_def="Galactic", source=["fg6","Field","fg12"], map_name="comap_alr-2_galactic_301025", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db", min_obsid=7000)',
            'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(n_processes=4, band=5, wcs_def="Galactic", source=["fg6","Field","fg12"], map_name="comap_alr-2_galactic_301025", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db", min_obsid=7000)',
            'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(n_processes=4, band=6, wcs_def="Galactic", source=["fg6","Field","fg12"], map_name="comap_alr-2_galactic_301025", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db", min_obsid=7000)',
            'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(n_processes=4, band=7, wcs_def="Galactic", source=["fg6","Field","fg12"], map_name="comap_alr-2_galactic_301025", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db", min_obsid=7000)',
]

pipeline_m31 = [
            'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(feeds=[1,2,3,4,5,6,7,8,10,11,12,13,14,15,16,17,18,19], n_processes=4, band=0, wcs_def="M31", source="fg4", source_group="Foreground", map_name="comap_fg4_051125", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
#            'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(n_processes=4, band=1, wcs_def="M31", source="fg4", source_group="Foreground", map_name="comap_fg4_051125", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
#            'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(n_processes=4, band=2, wcs_def="M31", source="fg4", source_group="Foreground", map_name="comap_fg4_051125", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
#            'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(n_processes=4, band=3, wcs_def="M31", source="fg4", source_group="Foreground", map_name="comap_fg4_051125", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
#            'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(n_processes=4, band=4, wcs_def="M31", source="fg4", source_group="Foreground", map_name="comap_fg4_051125", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
#            'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(n_processes=4, band=5, wcs_def="M31", source="fg4", source_group="Foreground", map_name="comap_fg4_051125", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
#            'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(n_processes=4, band=6, wcs_def="M31", source="fg4", source_group="Foreground", map_name="comap_fg4_051125", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
#            'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(n_processes=4, band=7, wcs_def="M31", source="fg4", source_group="Foreground", map_name="comap_fg4_051125", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
]

pipeline = [
            'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(feeds=[1,2,3,4,5,6,7,8,10,11,12,13,14,15,16,17,18,19], n_processes=4, band=0, wcs_def="M31", source="fg4", source_group="Foreground", map_name="comap_fg4_071225", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
#            'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(feeds=[1,2,3,4,5,6,7,8,10,11,12,13,14,15,16,17,18,19], n_processes=4, band=0, wcs_def="M31", source="fg4", source_group="Foreground", map_name="comap_fg4_191125", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db")',
#                'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(n_processes=4, band=0, wcs_def="Galactic", source=["Field77"], map_name="comap_alr-2_Field77_191125", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db", min_obsid=7000)',
#                'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(n_processes=4, band=0, wcs_def="Galactic", source=["fg6","Field","fg12"], map_name="comap_alr-2_galactic_011225", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db", min_obsid=7000)',
# 'modules.MapMaking.MapMakingModules.CreateMap.CreateMap(band=0, wcs_def="Galactic", source=["Field015.26+00.0","Field016.06+00.0","Field016.86+00.0","Field017.66+00.0","Field018.46+00.0","Field019.26+00.0","Field020.06+00.0"], map_name="comap_M16_pointingfix_111125", tod_data_name="level2/binned_filtered_data", database_file="databases/COMAP_manchester.db", n_processes=4)',
]

[modules.MapMaking.MapMakingModules.CreateLineMap.CreateLineMap]

output_dir = '/scratch/nas_core2/sharper/COMAP/level2_data_2024/level2_maps/all_feeds'

wcs_def_file = 'parameter_files/wcs_definitions.toml'

offset_length = 100 

# Control feeds to be used using observer flags rather than this list. 
feeds = [1,2,3,4,5,6,7,8,10,11,12,13,14,15,16,17,18,19]

[modules.MapMaking.MapMakingModules.CreateMap.CreateMap]

output_dir = '/scratch/nas_core2/sharper/COMAP/level2_data_2024/level2_maps/all_feeds'

wcs_def_file = 'parameter_files/wcs_definitions.toml'

calib_path = '/scratch/nas_cbassarc/sharper/work/COMAP/COMAP_Reduce_2024/notebooks/source_fitting/TauA_best_fits.npy'
lambda_ridge = 1e-2
planck_30_path = '/scratch/nas_cbassarc/sharper/work/CBASS_PolarisedTF/ancillary_data/planck_pr3/LFI_SkyMap_030-BPassCorrected_1024_R3.00_full.fits'

offset_length = 100 

# Control feeds to be used using observer flags rather than this list. 
feeds = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]

[modules.MapMaking.MapMakingModules.CreateMapDayNight.CreateMapDayNight]

output_dir = '/scratch/nas_core2/sharper/COMAP/level2_data_2024/level2_maps/day_night'

wcs_def_file = 'parameter_files/wcs_definitions.toml'

offset_length = 100 

feeds = [1,4,5,6,8,9,11,12,13,15,16,17,18,19]



[modules.MapMaking.MapMakingModules.CreateMapPerFeed.CreateMapPerFeed]

output_dir = '/scratch/nas_core2/sharper/COMAP/level2_data_2024/level2_maps/per_feed'

[modules.MapMaking.MapMakingModules.CreateMapEpoch.CreateMapEpoch]

output_dir = '/scratch/nas_core2/sharper/COMAP/level2_data_2024/level2_maps/epochs'

[modules.MapMaking.MapMakingModules.CreateMapSeasons.CreateMapSeasons]

output_dir = '/scratch/nas_core2/sharper/COMAP/level2_data_2024/level2_maps/seasons'